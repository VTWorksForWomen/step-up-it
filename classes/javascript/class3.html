<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Introduction to Programming with Javascript</title>

		<meta name="author" content="Ben Glassman">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/suit.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">
		<!-- Any section element inside of this container is displayed as a slide -->
		<div class="slides">
        <!-- Opening slide -->

            <section>
                <h1>Intro to Programming<br /><small>with</small> Javascript</h1>
                <p>III. Objects and the DOM</p>
                <p>
                    <small>Created by <a href="http://benglassman.com">Ben Glassman</a> / <a href="http://github.com/benglass">github.com/benglass</a></small>
                </p>
            </section>


<section>
			  <h3>Objects</h3>
			  <p>Objects let us store a related values together in one place.</p>
              <pre><code data-trim contenteditable class="javascript">
var task1 = {
  name: 'Grocery Shopping',
  priority: 1,
  isComplete: false
}; 

var task2 = {
  name: 'Walk the dog',
  priority: 2,
  isComplete: true
}; 
			  </code></pre>
			</section>
            <section>
			  <h3>Object Properties</h3>
			  <p>The different pieces of data associated with an object are called <span class="property">properties</span>. You can reference them using a period and then the property name. This is called "dot notation".</p>
              <pre><code data-trim contenteditable class="javascript">
var task1 = {
  name: 'Grocery Shopping',
  priority: 1,
  isComplete: false
}; 
console.log(task1.name); // 'Grocery Shopping'
			  </code></pre>
              <p>You can also use "bracket notation" (like arrays)</p>
              <pre><code data-trim contenteditable class="javascript">
console.log(task1['name']); // 'Grocery Shopping'
			  </code></pre>
			</section>
            <section>
			  <h3>Changing Objects Properties</h3>
			  <p>You can use dot or bracket notation to change <span class="property">properties</span></p>
              <pre><code data-trim contenteditable class="javascript">
var task1 = {
  name: 'Grocery Shopping',
  priority: 1,
  isComplete: false
}; 
task1.isComplete = true;
			  </code></pre>
			  <p>Add new <span class="property">properties</span></p>
              <pre><code data-trim contenteditable class="javascript">
task1.dateCompleted = '03/07/2015';
			  </code></pre>
			  <p>Remove <span class="property">properties</span></p>
              <pre><code data-trim contenteditable class="javascript">
task1.isComplete = false;
delete task1.dateCompleted;
			  </code></pre>
			</section>

			<section>
				<h3>Object Exercises</h3>
				<ol>
					<li>Create a variable called <span class="variable">myTask</span> and give it a value of an object with the following properties:
						<ol>
							<li><span class="property">name</span> (a <span class="type">string</span>)</li>
							<li><span class="property">isComplete</span> (a <span class="type">boolean</span>)</li>
							<li><span class="property">priority</span> (an <span class="type">integer</span>, the lower the number the higher priority the task)</li>
						</ol>
					</li>
					<li>Print out the <span class="property">name</span> of the task</li>
					<li>Set the <span class="property">dateCreated</span> property of <span class="variable">myTask</span> to <span class="value">'07/04/2014'</span></li>
					<li>Set the <span class="property">isComplete</span> property of <span class="variable">myTask</span> to <span class="value">true</span></li>
					<li>Set the <span class="property">dateCompleted</span> property of <span class="variable">myTask</span> to today's date.</li>
				</ol>
			</section>

            <section>
			  <h3>Arrays of Objects</h3>
			  <p>Since <span class="type">arrays</span> can hold any <span class="type">type</span> of <span class="value">value</span>, they can also hold <span class="type">objects</span></p>
              <pre><code data-trim contenteditable class="javascript">
var taskList = [
	{ name: 'Grocery Shopping', isComplete: false },
	{ name: 'Wash the dog', isComplete: true },
	{ name: 'Learn to code', isComplete: false }
];

for (var i = 0; i &lt; taskList.length; i++) {
	var task = taskList[i];
	if (task.isComplete) {
		console.log(task.name + ' is complete');
	} else {
		console.log(task.name + ' is not complete');
	}
}
			  </code></pre>
			</section>

			<section>
				<h3>Array of Objects Exercises</h3>
				<ol>
					<li>Create a variable called <span class="variable">myTasks</span> and make it an array of task objects (like the objects we created in the last exercise).</li>
					<li>Use push to add a new task object to <span class="variable">myTasks</span></li>
					<li>Write a for loop to loop over all of the tasks in <span class="variable">myTasks</span> and print the name to the console.</li>
					<li>Update your for loop to print tasks only if they are completed.</li>
					<li>Instead of printing the name to the console, pass the <span class="property">name</span> property of each task to the <span class="function">renderTask</span> function we wrote to add it to your HTML.</li> 
				</ol>
			</section>

            <section>
			  <h3>Objects as Functions Arguments</h3>
			  <p>Just like other data <span class="type">types</span>, <span class="type">objects</span> can be passed into <span class="function">functions</span>:</p>
              <pre><code data-trim contenteditable class="javascript">
var describeTask = function(task) {
	var status = '';
	if (task.isComplete) {
		status = 'complete';
	} else {
		status = 'incomplete';
	}
	console.log('The task ' + task.name + ' is ' + status);
}

var myTask = { 
	name: 'Grocery Shopping',
	isComplete: false 
};

describeTask(myTask);
			  </code></pre>
			</section>

            <section>
				<h3>Exercises: Objects as Functions Arguments</h3>
				<p>Lets update the <span class="function">renderTask</span> function to accept a task object as an argument instead of just the task name.</p>
				<ol>
					<li>Update your <span class="function">renderTask</span> function to take an argument called <span class="argument">task</span> instead of <span class="argument">taskName</span> which should be a task object instead of a task name.</li>
					<li>Update your <span class="function">renderTask</span> function to use the <span class="property">name</span> property of the <span class="argument">task</span> argument to reference the task's name when building the html.</li>
					<li>Update the for loop you wrote to pass the entire task object to the <span class="function">renderTask</span> function instead of the task's <span class="property">name</span> property.</li>
					<li>Update the <span class="function">renderTask</span> function to add a class of is-complete to the opening &lt;li&gt; tag if the task's <span class="property">isComplete</span> property is set to <span class="value">true</span>.</li>
					<li>Add a css rule to your html page that adds a <span style="text-decoration: line-through">strike through</span> completed tasks using the is-complete class.</li>
				</ol>
			</section> 

            <section>
              <h3>Object methods</h3>
			  <p>Since object properties can be any <span class="type">types</span> of <span class="value">value</span>, they can also be <span class="function">functions</span>. When object properties are functions they are called methods. Inside an object method, the variable <span class="variable">this</span> refers to the object.</p>
              <pre><code data-trim contenteditable class="javascript">
var task = {
  name: 'Grocery Shopping',
  isComplete: false,
  complete: function() {
	  this.isComplete = true;
  }
};
			  </code></pre>
              <p>You can call object methods using dot notation:</p>
              <pre><code data-trim contenteditable class="javascript">
task.complete();
			  </code></pre>
            </section>            

            <section>
              <h3>Object Method Exercises</h3>
			  <ol>
				  <li>Add a method called <span class="function">complete</span> to your task object. This function should set the <span class="property">isComplete</span> property of the task object to <span class="value">true</span></li>
				  <li>Add a method called <span class="function">incomplete</span> to your task object. This function should set the <span class="property">isComplete</span> property of the task object to <span class="value">false</span></li>
				  <li>Call the complete method on the first task in your task list to mark it as complete</li>
				  <li>Call the incomplete method on the second task in your task list to mark it as incomplete</li>
				  <li>Your task list in the browser should show tasks you have completed as having the strike through.</li>
			  </ol>
            </section>            

            <section>
			<h3>Question!</h3>
			<p>Have you noticed any problems with how we have been creating task objects?</h3>
			  <ul class="fragment">
				  <li>Repeated code (copy pasta)</li>
				  <li class="fragment">Setting default values of properties (isComplete should always start as false)</li>
				  <li class="fragment">Defining methods of the object should happen in one place</li>
				  <li class="fragment">How do we write the code once but be able to run it whenever we need a task object?</li>
			  </ul>
		  </section>

            <section>
              <h3>Answer: Creating Objects with Functions</h3>
			  <p>Since functions can have return values we can write a function that creates an object for us and returns it. This keeps all of our code for creating the object in one place so it can be changed easily.</p>
              <pre><code data-trim contenteditable class="javascript">
var createTask = function(taskName) {
	var task = {
		name: taskName,
		isComplete: false,
		complete: function() {
			this.complete = true;
		}
	};

	return task;
}

var task1 = createTask('Grocery Shopping');
var task2 = createTask('Wash the Dog');
			  </code></pre>

            </section>            

            <section>
              <h3>Exercise: Create a Function to make task objects</h3>
			  <ol>
				  <li>Add a method called <span class="function">complete</span> to your task object. This function should set the <span class="property">isComplete</span> property of the task object to <span class="value">true</span></li>
				  <li>Add a method called <span class="function">incomplete</span> to your task object. This function should set the <span class="property">isComplete</span> property of the task object to <span class="value">false</span></li>
				  <li>Call the complete method on the first task in your task list to mark it as complete</li>
				  <li>Call the incomplete method on the second task in your task list to mark it as incomplete</li>
				  <li>Your task list in the browser should show tasks you have completed as having the strike through.</li>
			  </ol>
            </section>            


            <section>
              <h3>Built-in objects</h3>
			  <p>JS provides several built-in objects with built-in methods and <span class="property">properties</span>:</p>
              <ul>
				  <li><a target="_blank" href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array">Array</a> (forEach, indexOf, join) - An array object is created whenever you use brackets <span class="value">[1, true, "hello"]</span></li>
				  <li><a target="_blank" href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String">String</a> (length, split, indexOf) - A string object is created whenever you use quotes <span class="value">"I'm a string!"</span></li>
				  <li><a target="_blank" href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Math">Math</a> (floor, ceil, random) - The Math object is used directly for Math operations. For example, <code class="javascript">Math.floor(14.5)</code></li>
				  <li><a target="_blank" href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date">Date</a> (getDate, getMonth, getFullYear) - Create Date objects in javascript defaulting to today's date by using <code class="javascript">new Date()</code> or for a specific date using <code class="javascript">new Date(1982, 2, 25)</code></li>
                  <li><a target="_blank" href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects">List of all built in javascript objects</a></li>
              </ul>
            </section>

            <section>
              <h3>Built-in Object Exercises</h3>
			  <p>Use the built in Date object to track the date and time a task was completed.</p>
			  <ol>
				  <li>Update the complete method of your task object to set the dateCompleted property of the task object to a today's date by creating a new Date object.</li>
				  <li>Update the incomplete method of your task object to set the dateCompleted property of the task to null (cant have a completed date if the task is not complete).</li>
			  </ol>
            </section>            

			<section>
			  <h3>Review: Anatomy of a website</h3>
			  <div class = "blue"> Your Content</div>
			  <div><span class = "blue">+ HTML: </span>Structure</div>
			  <div><span class = "blue">+ CSS: </span>Presentation</div>
			  <div class = "blue">= Your Website</div>
			  <p>A website is a way to present your content to the world, using HTML and CSS to present that content &amp; make it look good.</p>
			</section>

            <section>
			<h3>IDs vs. Classes</h3>
				<div class = "left-align">
				  <span class = "yellow">ID</span> -- Should only apply to one element on a webpage, e.g., A webpage only has one footer.
				  <p>The "#" is how you tell CSS "this is an id."</p>
				</div>
				<div class = "left-align">
				  <span class = "yellow">Class</span> -- Lots of elements can have the same class, e.g., There can be many warnings on one webpage.
				  <p>The "." is how you tell CSS "this is a class name."</p>
				</div>
			</section>
	

            <section>
              <h3>The DOM Tree</h3>
              <p>We model the nested structure of an HTML page with the DOM (Document Object Model) Tree. The browser makes a "map" of all the elements on a page.</p>
            </section>
            <section>
              <h3>The DOM: Sample Code</h3>
                <pre><code data-trim contenteditable class="javascript">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Test Page&lt;/title&gt;
        &lt;style&gt;
            h1 {
             color: red;
            }
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;My Page&lt;/h1&gt;
        &lt;p&gt;Hello World!&lt;/p&gt;
        &lt;img src="http://placekitten.com/200/300" alt="cat"/&gt;
    &lt;/body&gt;
&lt;/html&gt;
				</code></pre>
            </section>
            <section>
              <h3>The DOM: Sample Model</h3>
              <img src="images/dom-tree.png" alt="Simple DOM Tree"/>
            </section>
          
        <!--Accessing the DOM-->
  
            <section>
              <h3>DOM Access</h3>
              <p>Your browser automatically builds a Document object to store the DOM of a page. To change a page:</p>
              <ol>
                <li>Find the DOM node and store it in a variable</li>
                <li>Use methods to manipulate the node</li>
              </ol>
            </section>
            <section>
              <h3>DOM Access: By Id</h3>
              <p>You can find nodes by id using the method:</p>
              <pre><code data-trim contenteditable class="javascript">
document.getElementById(id);
			  </code></pre>
              <p>To find:</p>
              <pre><code data-trim contenteditable class="javascript">
&lt;img id="kittenPic" src="http://placekitten.com/200/300" alt="cat"/&gt;
			  </code></pre>
              <p>We would use:</p>
              <pre><code data-trim contenteditable class="javascript">
var imgKitten = document.getElementById('kittenPic');
			  </code></pre>
            </section>
            <section>
              <h3>DOM Access: By Tag Name</h3>
              <p>You can certain types of HTML elements using this method:</p>
              <pre><code data-trim contenteditable class="javascript">
document.getElementsByTagName(tagName);
			  </code></pre>
              <p>To find:</p>
              <pre><code data-trim contenteditable class="javascript">
&lt;li&gt;Daisy&lt;/li&gt;
&lt;li&gt;Tulip&lt;/li&gt;
			  </code></pre>
              <p>We would use:</p>
              <pre><code data-trim contenteditable class="javascript">
var listItems = document.getElementsByTagName('li');
for (var i =0; i &lt; listItems.length; i++) {
  var listItem = listItems[i];
}
			  </code></pre>
            </section>
            <section>
              <h3>DOM Access: HTML 5</h3>
              <p>In newer browsers, you can use other methods too.</p>
              <p>Available in <a href="http://caniuse.com/#search=getElementsByClassName">IE9+, FF3.6+, Chrome 17+, Safari 5+</a>:</p>
              <pre><code data-trim contenteditable class="javascript">
document.getElementsByClassName(className);
			  </code></pre>
              <p>Available in <a href="http://caniuse.com/#search=querySelectorAll">IE8+, FF3.6+, Chrome 17+, Safari 5+</a>:</p>
              <pre><code data-trim contenteditable class="javascript">
document.querySelector(cssQuery);
document.querySelectorAll(cssQuery);
			  </code></pre>
            </section>
            <section>
              <h3>getElement vs. getElements</h3>
              <p>Any method that starts with "getElement" will return a <span class = "blue">single</span> node.</p>
              <pre><code data-trim contenteditable class="javascript">
document.getElementById('uniqueID'); //returns a single node
			  </code></pre>
              <p>Any method that starts with "getElements" will return a <span class = "blue">array</span> of nodes. To modify a single node, you will need to use bracket notation to select the correct one.</p>
              <pre><code data-trim contenteditable class="javascript">
document.getElementsByTagName('p'); //returns multiple nodes
var specficParagraph = document.getElementsByTagName('p')[2];
			  </code></pre>
            </section>

            <section>
              <h3>DOM Nodes: Attributes</h3>
              <p>You can access and change attributes of DOM nodes using dot notation.</p>
              <p>To change this element:</p>
              <pre><code data-trim contenteditable class="javascript">
&lt;img id="kittenPic" src="http://placekitten.com/200/300" alt="cat"/&gt;
			  </code></pre>
              <p>We could change the src attribute this way:</p>
              <pre><code data-trim contenteditable class="javascript">
var imgKitten = document.getElementById('kittenPic');
var oldSrc = imgKitten.src;
imgKitten.src = 'http://placekitten.com/100/500';
			  </code></pre>
            </section>
            <section>
              <h3>DOM Nodes: Getting and Setting Attributes</h3>
              <p>You can also use <code data-trim contenteditable class="javascript">getAttribute/setAttribute</code></p>
              <pre><code data-trim contenteditable class="javascript">
&lt;img id="kittenPic" src="http://placekitten.com/200/300" alt="cat"/&gt;
			  </code></pre>
              <p>We could change the src attribute this way:</p>
              <pre><code data-trim contenteditable class="javascript">
var imgKitten = document.getElementById('kittenPic');
var oldSrc = imgKitten.getAttribute('src');
imgKitten.setAttribute('src', 'http://placekitten.com/100/500');
			  </code></pre>
            </section>
            <section>
              <h3>DOM Nodes: Styles</h3>
              <p>You can change page css using<code data-trim contenteditable class="javascript">style</code></p>
              <p>To make this CSS:</p>
              <pre><code data-trim contenteditable class="javascript">
body {
  color: red;
}
			  </code></pre>
              <p>Use this JavaScript:</p>
              <pre><code data-trim contenteditable class="javascript">
var pageNode = document.getElementsByTagName('body')[0];
pageNode.style.color = 'red';
			  </code></pre>
            </section>
            <section>
              <h3>DOM Nodes: More Styles</h3>
              <p>Change any CSS property with a "-" to camelCase, and be sure to include a unit on any number</p>
              <p>To make this CSS:</p>
              <pre><code data-trim contenteditable class="javascript">
body {
  background-color: pink;
  padding-top: 10px;
}
			  </code></pre>
              <p>Use this JavaScript:</p>
              <pre><code data-trim contenteditable class="javascript">
var pageNode = document.getElementsByTagName('body')[0]
pageNode.style.backgroundColor = 'pink';
pageNode.style.paddingTop = '10px';
			  </code></pre>
            </section>
            <section>
				<h3>Let's Develop It</h3>
                <p>Create a simple HTML page or <a href="files/class3.zip">use this sample code</a>.</p>
                <p>Isolate a node (an element on the page) and change an attribute or add a new style.</p> 
			</section>       

            <section>
              <h3>DOM innerHTML</h3>
              <p>Each DOM node has an <code data-trim contenteditable class="javascript">innerHTML</code> property with the HTML of all its children. You can use the property to view or change the HTML of a node.</p>
              <p>For example, you can overwrite the entire body:</p>
              <pre><code data-trim contenteditable class="javascript">
var pageNode = document.getElementsByTagName('body')[0];
pageNode.innerHTML = '&lt;h1&gt;Oh Noes!&lt;/h1&gt; &lt;p&gt;I just changed the whole page!&lt;/p&gt;'
			  </code></pre>
              <p>Or just add some new content to the end</p>
              <pre><code data-trim contenteditable class="javascript">
pageNode.innerHTML += '...just adding this bit at the end of the page.';
			  </code></pre>
            </section>
            <section>
              <h3>DOM innerHTML continued</h3>
              <p>You can also target a particular element</p>
              <p>To fill this HTML element:</p>
              <pre><code data-trim contenteditable class="javascript">
&lt;p id="warning"&gt;&lt;/p&gt;
			  </code></pre>
              <p>We can select the node and modify it</p>
              <pre><code data-trim contenteditable class="javascript">
var warningParagraph = document.getElementById('warning');
warningParagraph.innerHTML = 'Danger Will Robinson!';
			  </code></pre>
            </section>
            <section>
              <h3>Creating New Nodes</h3>
              <p>The <code data-trim contenteditable class="javascript">document</code> object also provides ways to create nodes from scratch:</p>
              <pre><code data-trim contenteditable class="javascript">
document.createElement(tagName);
document.createTextNode(text);
document.appendChild();
			  </code></pre>
            </section>
            <section>
              <h3>Creating New Nodes: Sample Code</h3>
              <pre><code data-trim contenteditable class="javascript">
var pageNode = document.getElementsByTagName('body')[0];

var newImg = document.createElement('img');
newImg.src = 'http://placekitten.com/400/300';
newImg.style.border = '1px solid black';
pageNode.appendChild(newImg);

var newParagraph = document.createElement('p');
var paragraphText = document.createTextNode('Squee!');
newParagraph.appendChild(paragraphText);
pageNode.appendChild(newParagraph);
			  </code></pre>
            </section>
            <section>
				<h3>Let's Develop It</h3>
                <p>Create a new paragraph element and add it to a div on your page.</p>
			</section> 
			
			<section>
				<h3>Resources</h3>
					<ul>
						<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide" target="_blank">JavaScript Guide</a>, from the Mozilla Developers Network.</li>
						<li><a href="http://www.codecademy.com/tracks/javascript" target="_blank">Code Academy</a>, with interactive JavaScript lessons to help you review.</li>
					</ul>
			</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>

